    collectors: []
    extraArgs:
      - --custom-resource-state-only=true
    rbac:
      extraRules:
        - apiGroups:
            - source.toolkit.fluxcd.io
            - kustomize.toolkit.fluxcd.io
            - helm.toolkit.fluxcd.io
            - notification.toolkit.fluxcd.io
            - image.toolkit.fluxcd.io
          resources:
            - gitrepositories
            - buckets
            - helmrepositories
            - helmcharts
            - ocirepositories
            - kustomizations
            - helmreleases
            - alerts
            - providers
            - receivers
            - imagerepositories
            - imagepolicies
            - imageupdateautomations
          verbs: ["list", "watch"]
    customResourceState:
      enabled: true
      config:
        spec:
          resources:
            - groupVersionKind:
                group: kustomize.toolkit.fluxcd.io
                version: v1
                kind: Kustomization
              metricNamePrefix: gotk
              metrics:
                - name: "resource_info"
                  help: "The current state of a Flux Kustomization resource."
                  each:
                    type: Gauge
                    gauge:
                      value: 21
                      labelsFromPath:
                        name: [ metadata, name ]
            - groupVersionKind:
                group: helm.toolkit.fluxcd.io
                version: v2
                kind: HelmRelease
              metricNamePrefix: gotk
              metrics:
                - name: "resource_info"
                  help: "The current state of a Flux HelmRelease resource."
                  each:
                    type: Gauge
                    gauge:
                    value: 21
                      labelsFromPath:
                        name: [ metadata, name ]
